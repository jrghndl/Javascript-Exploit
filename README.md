View a demo at https://jrghndl.github.io/examples/javascript-exploit/

# Javascript Exploit
A method for exploiting vulnerabilities in JavaScript code that allows the user to modify obfuscated self-invoking Javascript functions.

All of the code used here is working as of Google Chrome Version 84.0.4147.135.
## Description
In an attempt to secure client side Javascript code, developers often use obfuscated anonymous self-invoking functions. Anonymous self-invoking functions do not have a name, the result of which is that it hides its contents from other Javascript code. 

Example:

    (function () {
        let x = "Hello World!"
    }());
Outside of the function, you cannot access the variable x. Paired with obfuscation, this makes it difficult for an outside actor to manipulate a protected client code. However, this is not the case.

While it's true that you cannot directly access anonymous functions, there is a way to get around this limitation. Its more than likely that such code will call a native Javascript function at some point. If you read the obfuscated code, you should be able to figure out what native functions it uses. 

Once you have your target native function, create a variable and let it be equal to the prototype of that native function. You can then modify the prototype of the native function. This will be your entry point into the anonymous function. At the end of the modified prototype, you can have it call the old prototype and return whatever it normally would so that the modification doesn't interrupt the flow. In the modified prototype, you can use the following to get the caller and information related to it:

    arguments.callee.caller.arguments
    arguments.callee.caller.name
    arguments.callee.caller.prototype
    arguments.callee.caller.toString()

If a function within the anonymous function calls the modified native function, the lines about will give you considerable power over those functions. There may be multiple functions that call the same native function, so in order to figure out which does what, you'll need to piece it together through its obfuscated code and through its arguments. 

If you use obfuscated anonymous self-invoking functions to protect your code, then it is vulnerable to attack.

Refer to Exploit.js for the code used for example use.

### Disclaimer
This code is only meant for educational purposes. Please do not use it for anything malicious. I'm not responsible for any use of this information outside of its intended purposes.
